---
import { Icon } from 'astro-icon/components';

interface Link {
  text?: string;
  href?: string;
  ariaLabel?: string;
  icon?: string;
}

export interface Props {
  secondaryLinks?: Array<Link>;
  socialLinks?: Array<Link>;
  footNote?: string;
}

const {
  socialLinks = [],
  secondaryLinks = [],
  footNote = '',
} = Astro.props;
---

<footer class="bg-page-lighter dark:bg-dark py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col items-center justify-center space-y-4">
      <!-- Social links -->
      {
        socialLinks?.length ? (
          <ul class="flex space-x-4">
            {socialLinks.map(({ ariaLabel, href, icon }) => (
              <li>
                <a
                  class="text-muted hover:text-primary dark:text-gray-400 dark:hover:text-white transition duration-150 ease-in-out"
                  href={href}
                  aria-label={ariaLabel}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  {icon && <Icon name={icon} class="w-6 h-6" />}
                </a>
              </li>
            ))}
          </ul>
        ) : (
          ''
        )
      }

      <!-- Footer text -->
      <div class="text-sm text-muted text-center">
        <Fragment set:html={footNote} />
        {
          secondaryLinks.length > 0 && (
            <span class="px-1">·</span>
          )
        }
        {
          secondaryLinks.map(({ text, href }, index) => (
            <>
              <a
                class="hover:underline"
                href={href}
                set:html={text}
              />
              {index < secondaryLinks.length - 1 && <span class="px-1">·</span>}
            </>
          ))
        }
      </div>
    </div>
  </div>
</footer>
